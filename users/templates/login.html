{% extends "auth.html" %}

{% block title %}
Log in - XChange
{% endblock %}

{% block content %}
<div id="loginForm">
  <h3 class="text-center mb-4 text-light">Welcome back</h3>
  {% if form.non_field_errors %}
    <div class="alert alert-danger">
      {{ form.non_field_errors }}
    </div>
  {% endif %}
  <form method="POST">
    {% for field in form %}
      <div class="mb-3">
        {% if field.errors %}
          <div class="text-danger small">
            {{ field.errors }}
          </div>
        {% endif %}
        {{ field.label_tag }}
        {{ field }}
      </div>
    {% endfor %}
    <div class="d-flex justify-content-between mb-4">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="rememberMe">
        <label class="form-check-label text-muted" for="rememberMe">
          Remember me
        </label>
      </div>
      <a href="#" class="text-primary">Forgot password?</a>
    </div>
    {% csrf_token %}
    <button type="submit" class="btn btn-primary w-100 py-2">Log In</button>
  </form>
</div>
{% endblock %}

{% block footer %}
<script>
  document.querySelectorAll('#id_username,#id_password').forEach(el => el.classList.add('form-control'));
  document.querySelectorAll('form label').forEach(el => el.classList.add('text-light'))
</script>
{% endblock %}